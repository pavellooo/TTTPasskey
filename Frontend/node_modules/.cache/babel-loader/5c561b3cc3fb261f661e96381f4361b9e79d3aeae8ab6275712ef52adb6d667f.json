{"ast":null,"code":"import React,{useState,useEffect}from'react';import Square from'./Square.js';import{useNavigate,useLocation}from'react-router-dom';import'./Board.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Board(_ref){var _location$state;let{username,onLogout}=_ref;// Array is created to track square has which value with X or O\nconst[square,setSquare]=useState(Array(9).fill(null));// This state will keep track whose turn is next\nconst[xIsNext,setXIsNext]=useState(true);const navigate=useNavigate();const location=useLocation();// Use the username prop if provided, otherwise fall back to location state or default\nconst displayUsername=username||((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.username)||\"Player\";// State to control welcome message visibility\nconst[showWelcome,setShowWelcome]=useState(true);// Hide welcome message after 3 seconds\nuseEffect(()=>{const timer=setTimeout(()=>{setShowWelcome(false);},3000);return()=>clearTimeout(timer);},[]);function resetBoard(){setSquare(Array(9).fill(null));setXIsNext(true);}function handleLogout(){onLogout();navigate('/');}function handleClick(i){if(square[i]||calculateWinner(square)){return;}const nextSquare=square.slice();nextSquare[i]=xIsNext?'X':'O';setSquare(nextSquare);setXIsNext(!xIsNext);}const winner=calculateWinner(square);let status;if(winner){status='Winner: '+winner;}else if(!square.includes(null)){status='Draw!';}else{status='Next player: '+(xIsNext?'X':'O');}return/*#__PURE__*/_jsxs(\"div\",{className:\"game-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"app-header\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Tic Tac Toe\"})}),showWelcome&&/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-message\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome, \",displayUsername,\"!\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Get ready to play!\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-bar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"player-info\",children:/*#__PURE__*/_jsx(\"span\",{className:\"username\",children:displayUsername})}),/*#__PURE__*/_jsx(\"div\",{className:\"game-status\",children:status}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"nav-btn\",onClick:resetBoard,children:\"New Game\"}),/*#__PURE__*/_jsx(\"button\",{className:\"nav-btn\",onClick:handleLogout,children:\"Log out\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"board\",children:[...Array(9)].map((_,i)=>/*#__PURE__*/_jsx(Square,{value:square[i],OnSquareClick:()=>handleClick(i)},i))})]});}function calculateWinner(square){const lines=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let i=0;i<lines.length;i++){const[a,b,c]=lines[i];if(square[a]&&square[a]===square[b]&&square[a]===square[c]){return square[a];}}return null;}","map":{"version":3,"names":["React","useState","useEffect","Square","useNavigate","useLocation","jsx","_jsx","jsxs","_jsxs","Board","_ref","_location$state","username","onLogout","square","setSquare","Array","fill","xIsNext","setXIsNext","navigate","location","displayUsername","state","showWelcome","setShowWelcome","timer","setTimeout","clearTimeout","resetBoard","handleLogout","handleClick","i","calculateWinner","nextSquare","slice","winner","status","includes","className","children","onClick","map","_","value","OnSquareClick","lines","length","a","b","c"],"sources":["C:/Users/lpave/ProjectPasskey/Project_Passkey/Frontend/src/component/Board.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Square from './Square.js';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport './Board.css';\r\n\r\nexport default function Board({ username, onLogout }) {\r\n  // Array is created to track square has which value with X or O\r\n  const [square, setSquare] = useState(Array(9).fill(null));\r\n  // This state will keep track whose turn is next\r\n  const [xIsNext, setXIsNext] = useState(true);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  // Use the username prop if provided, otherwise fall back to location state or default\r\n  const displayUsername = username || location.state?.username || \"Player\";\r\n  \r\n  // State to control welcome message visibility\r\n  const [showWelcome, setShowWelcome] = useState(true);\r\n  \r\n  // Hide welcome message after 3 seconds\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setShowWelcome(false);\r\n    }, 3000);\r\n    \r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  function resetBoard() {\r\n    setSquare(Array(9).fill(null));\r\n    setXIsNext(true);\r\n  }\r\n\r\n  function handleLogout() {\r\n    onLogout();\r\n    navigate('/');\r\n  }\r\n\r\n  function handleClick(i) {\r\n    if (square[i] || calculateWinner(square)) {\r\n      return;\r\n    }\r\n    \r\n    const nextSquare = square.slice();\r\n    nextSquare[i] = xIsNext ? 'X' : 'O';\r\n    \r\n    setSquare(nextSquare);\r\n    setXIsNext(!xIsNext);\r\n  }\r\n\r\n  const winner = calculateWinner(square);\r\n  let status;\r\n  if (winner) {\r\n    status = 'Winner: ' + winner;\r\n  } else if (!square.includes(null)) {\r\n    status = 'Draw!';\r\n  } else {\r\n    status = 'Next player: ' + (xIsNext ? 'X' : 'O');\r\n  }\r\n\r\n  return (\r\n    <div className=\"game-container\">\r\n      {/* App Header */}\r\n      <div className=\"app-header\">\r\n        <h1>Tic Tac Toe</h1>\r\n      </div>\r\n      \r\n      {/* Welcome Message */}\r\n      {showWelcome && (\r\n        <div className=\"welcome-message\">\r\n          <h2>Welcome, {displayUsername}!</h2>\r\n          <p>Get ready to play!</p>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Navigation Bar */}\r\n      <div className=\"nav-bar\">\r\n        <div className=\"player-info\">\r\n          <span className=\"username\">{displayUsername}</span>\r\n        </div>\r\n        <div className=\"game-status\">{status}</div>\r\n        <div className=\"nav-controls\">\r\n          <button className=\"nav-btn\" onClick={resetBoard}>New Game</button>\r\n          <button className=\"nav-btn\" onClick={handleLogout}>Log out</button>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Game Board */}\r\n      <div className=\"board\">\r\n        {[...Array(9)].map((_, i) => (\r\n          <Square\r\n            key={i}\r\n            value={square[i]}\r\n            OnSquareClick={() => handleClick(i)}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction calculateWinner(square) {\r\n  const lines = [\r\n    [0, 1, 2],\r\n    [3, 4, 5],\r\n    [6, 7, 8],\r\n    [0, 3, 6],\r\n    [1, 4, 7],\r\n    [2, 5, 8],\r\n    [0, 4, 8],\r\n    [2, 4, 6],\r\n  ];\r\n\r\n  for (let i = 0; i < lines.length; i++) {\r\n    const [a, b, c] = lines[i];\r\n    if (square[a] && square[a] === square[b] && square[a] === square[c]) {\r\n      return square[a];\r\n    }\r\n  }\r\n  return null;\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,aAAa,CAChC,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,MAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErB,cAAe,SAAS,CAAAC,KAAKA,CAAAC,IAAA,CAAyB,KAAAC,eAAA,IAAxB,CAAEC,QAAQ,CAAEC,QAAS,CAAC,CAAAH,IAAA,CAClD;AACA,KAAM,CAACI,MAAM,CAAEC,SAAS,CAAC,CAAGf,QAAQ,CAACgB,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC,CACzD;AACA,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGnB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAAoB,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAkB,QAAQ,CAAGjB,WAAW,CAAC,CAAC,CAE9B;AACA,KAAM,CAAAkB,eAAe,CAAGV,QAAQ,IAAAD,eAAA,CAAIU,QAAQ,CAACE,KAAK,UAAAZ,eAAA,iBAAdA,eAAA,CAAgBC,QAAQ,GAAI,QAAQ,CAExE;AACA,KAAM,CAACY,WAAW,CAAEC,cAAc,CAAC,CAAGzB,QAAQ,CAAC,IAAI,CAAC,CAEpD;AACAC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAyB,KAAK,CAAGC,UAAU,CAAC,IAAM,CAC7BF,cAAc,CAAC,KAAK,CAAC,CACvB,CAAC,CAAE,IAAI,CAAC,CAER,MAAO,IAAMG,YAAY,CAACF,KAAK,CAAC,CAClC,CAAC,CAAE,EAAE,CAAC,CAEN,QAAS,CAAAG,UAAUA,CAAA,CAAG,CACpBd,SAAS,CAACC,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC,CAC9BE,UAAU,CAAC,IAAI,CAAC,CAClB,CAEA,QAAS,CAAAW,YAAYA,CAAA,CAAG,CACtBjB,QAAQ,CAAC,CAAC,CACVO,QAAQ,CAAC,GAAG,CAAC,CACf,CAEA,QAAS,CAAAW,WAAWA,CAACC,CAAC,CAAE,CACtB,GAAIlB,MAAM,CAACkB,CAAC,CAAC,EAAIC,eAAe,CAACnB,MAAM,CAAC,CAAE,CACxC,OACF,CAEA,KAAM,CAAAoB,UAAU,CAAGpB,MAAM,CAACqB,KAAK,CAAC,CAAC,CACjCD,UAAU,CAACF,CAAC,CAAC,CAAGd,OAAO,CAAG,GAAG,CAAG,GAAG,CAEnCH,SAAS,CAACmB,UAAU,CAAC,CACrBf,UAAU,CAAC,CAACD,OAAO,CAAC,CACtB,CAEA,KAAM,CAAAkB,MAAM,CAAGH,eAAe,CAACnB,MAAM,CAAC,CACtC,GAAI,CAAAuB,MAAM,CACV,GAAID,MAAM,CAAE,CACVC,MAAM,CAAG,UAAU,CAAGD,MAAM,CAC9B,CAAC,IAAM,IAAI,CAACtB,MAAM,CAACwB,QAAQ,CAAC,IAAI,CAAC,CAAE,CACjCD,MAAM,CAAG,OAAO,CAClB,CAAC,IAAM,CACLA,MAAM,CAAG,eAAe,EAAInB,OAAO,CAAG,GAAG,CAAG,GAAG,CAAC,CAClD,CAEA,mBACEV,KAAA,QAAK+B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAE7BlC,IAAA,QAAKiC,SAAS,CAAC,YAAY,CAAAC,QAAA,cACzBlC,IAAA,OAAAkC,QAAA,CAAI,aAAW,CAAI,CAAC,CACjB,CAAC,CAGLhB,WAAW,eACVhB,KAAA,QAAK+B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BhC,KAAA,OAAAgC,QAAA,EAAI,WAAS,CAAClB,eAAe,CAAC,GAAC,EAAI,CAAC,cACpChB,IAAA,MAAAkC,QAAA,CAAG,oBAAkB,CAAG,CAAC,EACtB,CACN,cAGDhC,KAAA,QAAK+B,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtBlC,IAAA,QAAKiC,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1BlC,IAAA,SAAMiC,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAElB,eAAe,CAAO,CAAC,CAChD,CAAC,cACNhB,IAAA,QAAKiC,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEH,MAAM,CAAM,CAAC,cAC3C7B,KAAA,QAAK+B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BlC,IAAA,WAAQiC,SAAS,CAAC,SAAS,CAACE,OAAO,CAAEZ,UAAW,CAAAW,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAClElC,IAAA,WAAQiC,SAAS,CAAC,SAAS,CAACE,OAAO,CAAEX,YAAa,CAAAU,QAAA,CAAC,SAAO,CAAQ,CAAC,EAChE,CAAC,EACH,CAAC,cAGNlC,IAAA,QAAKiC,SAAS,CAAC,OAAO,CAAAC,QAAA,CACnB,CAAC,GAAGxB,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC0B,GAAG,CAAC,CAACC,CAAC,CAAEX,CAAC,gBACtB1B,IAAA,CAACJ,MAAM,EAEL0C,KAAK,CAAE9B,MAAM,CAACkB,CAAC,CAAE,CACjBa,aAAa,CAAEA,CAAA,GAAMd,WAAW,CAACC,CAAC,CAAE,EAF/BA,CAGN,CACF,CAAC,CACC,CAAC,EACH,CAAC,CAEV,CAEA,QAAS,CAAAC,eAAeA,CAACnB,MAAM,CAAE,CAC/B,KAAM,CAAAgC,KAAK,CAAG,CACZ,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACT,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACT,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACT,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACT,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACT,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACT,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACT,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACV,CAED,IAAK,GAAI,CAAAd,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGc,KAAK,CAACC,MAAM,CAAEf,CAAC,EAAE,CAAE,CACrC,KAAM,CAACgB,CAAC,CAAEC,CAAC,CAAEC,CAAC,CAAC,CAAGJ,KAAK,CAACd,CAAC,CAAC,CAC1B,GAAIlB,MAAM,CAACkC,CAAC,CAAC,EAAIlC,MAAM,CAACkC,CAAC,CAAC,GAAKlC,MAAM,CAACmC,CAAC,CAAC,EAAInC,MAAM,CAACkC,CAAC,CAAC,GAAKlC,MAAM,CAACoC,CAAC,CAAC,CAAE,CACnE,MAAO,CAAApC,MAAM,CAACkC,CAAC,CAAC,CAClB,CACF,CACA,MAAO,KAAI,CACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}