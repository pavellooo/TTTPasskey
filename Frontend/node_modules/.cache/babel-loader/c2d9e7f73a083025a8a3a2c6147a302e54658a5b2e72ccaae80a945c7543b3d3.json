{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lpave\\\\ProjectPasskey\\\\Project_Passkey\\\\Frontend\\\\src\\\\component\\\\passkey.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Passkey({\n  setIsAuthenticated,\n  setUserEmail\n}) {\n  _s();\n  //accepting setIsAuthenticated and setUserEmail as props\n  const [email, setEmail] = useState('');\n  const [error, setError] = useState('');\n  const [isLoginView, setIsLoginView] = useState(true);\n  const [isLoading, setIsLoading] = useState(false);\n  const navigate = useNavigate();\n\n  // Helper functions remain the same\n  const base64UrlToBase64 = base64url => {\n    const padding = '='.repeat((4 - base64url.length % 4) % 4);\n    return base64url.replace(/-/g, '+').replace(/_/g, '/') + padding;\n  };\n  const base64UrlToUint8Array = base64url => {\n    const base64 = base64UrlToBase64(base64url);\n    const binary = atob(base64);\n    return new Uint8Array(binary.split('').map(c => c.charCodeAt(0)));\n  };\n  const handleRegister = async () => {\n    if (!email) {\n      setError('Please enter your email');\n      return;\n    }\n    setError('');\n    setIsLoading(true);\n    try {\n      console.log('Attempting to register with:', email);\n      console.log('Backend URL:', 'https://localhost:5200/webauthn/register');\n      const {\n        data: publicKeyCredentialCreationOptions\n      } = await axios.post('https://localhost:5200/webauthn/register', {\n        email\n      });\n      const publicKeyCredentialCreationOptionsParsed = {\n        challenge: base64UrlToUint8Array(publicKeyCredentialCreationOptions.challenge),\n        rp: publicKeyCredentialCreationOptions.rp,\n        user: {\n          id: base64UrlToUint8Array(publicKeyCredentialCreationOptions.user.id),\n          name: publicKeyCredentialCreationOptions.user.name,\n          displayName: publicKeyCredentialCreationOptions.user.displayName\n        },\n        pubKeyCredParams: publicKeyCredentialCreationOptions.pubKeyCredParams,\n        authenticatorSelection: publicKeyCredentialCreationOptions.authenticatorSelection,\n        attestation: publicKeyCredentialCreationOptions.attestation\n      };\n      const credential = await navigator.credentials.create({\n        publicKey: publicKeyCredentialCreationOptionsParsed\n      });\n      await axios.post('https://localhost:5200/webauthn/register/complete', {\n        email,\n        credential\n      });\n      window.alert('Registration successful');\n      setEmail('');\n      setIsLoginView(true); // Switch to login view after successful registration\n    } catch (error) {\n      console.error('Registration failed - Full Error:', error);\n      console.error('Error response:', error.response);\n      console.error('Error request:', error.request);\n      console.error('Error message:', error.message);\n\n      // More detailed error handling\n      if (error.response) {\n        var _error$response$data;\n        // Server responded with error\n        setError('Server error: ' + ((_error$response$data = error.response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || error.message);\n      } else if (error.request) {\n        // Request made but no response\n        setError('Network Error: Backend not responding. Make sure backend is running on https://localhost:5200');\n      } else {\n        setError('Registration failed: ' + error.message);\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleAuthenticate = async () => {\n    if (!email) {\n      setError('Email is required');\n      return;\n    }\n    setIsLoading(true);\n    setError('');\n    try {\n      const {\n        data: publicKeyCredentialRequestOptions\n      } = await axios.post('https://localhost:5200/webauthn/authenticate', {\n        email\n      }, {\n        withCredentials: true\n      });\n      const publicKeyCredentialRequestOptionsParsed = {\n        challenge: base64UrlToUint8Array(publicKeyCredentialRequestOptions.challenge),\n        allowCredentials: [{\n          type: 'public-key',\n          id: base64UrlToUint8Array(publicKeyCredentialRequestOptions.allowCredentials[0].id),\n          transports: ['internal']\n        }],\n        userVerification: publicKeyCredentialRequestOptions.userVerification\n      };\n      const assertion = await navigator.credentials.get({\n        publicKey: publicKeyCredentialRequestOptionsParsed\n      });\n      const assertionResponse = {\n        id: assertion.id,\n        rawId: btoa(String.fromCharCode(...new Uint8Array(assertion.rawId))),\n        type: assertion.type,\n        response: {\n          authenticatorData: btoa(String.fromCharCode(...new Uint8Array(assertion.response.authenticatorData))),\n          clientDataJSON: btoa(String.fromCharCode(...new Uint8Array(assertion.response.clientDataJSON))),\n          signature: btoa(String.fromCharCode(...new Uint8Array(assertion.response.signature))),\n          userHandle: assertion.response.userHandle ? btoa(String.fromCharCode(...new Uint8Array(assertion.response.userHandle))) : null\n        }\n      };\n      const response = await axios.post('https://localhost:5200/webauthn/authenticate/complete', {\n        email,\n        assertion: assertionResponse\n      }, {\n        withCredentials: true\n      });\n      if (response.data.success) {\n        // Store the token in a secure cookie for session persistence\n        if (response.data.token) {\n          console.log('Setting token in secure cookie:', response.data.token);\n          // Removed document.cookie usage. Backend now handles secure cookies\n        } else {\n          console.log('No token received from backend');\n        }\n        setUserEmail(email);\n        setIsAuthenticated(true); //update authentication state\n        navigate('/tictactoe', {\n          state: {\n            username: email\n          }\n        }); // Redirect to Tic Tac Toe on success\n      } else {\n        setError('Authentication failed: ' + response.data.message || 'Unknown error');\n      }\n      window.alert('Authentication successful');\n      setEmail('');\n    } catch (error) {\n      console.error('Authentication failed:', error);\n      setError('Authentication failed: ' + error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: \"center\",\n      marginTop: \"50px\",\n      maxWidth: \"450px\",\n      margin: \"50px auto\",\n      padding: \"20px\",\n      borderRadius: \"8px\",\n      boxShadow: \"0 2px 10px rgba(0, 0, 0, 0.1)\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: isLoginView ? \"Login\" : \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: \"20px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          display: \"block\",\n          textAlign: \"left\",\n          marginBottom: \"8px\"\n        },\n        children: \"Email or phone number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"example@email.com\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        style: {\n          width: \"100%\",\n          padding: \"12px\",\n          borderRadius: \"4px\",\n          border: \"1px solid #ccc\",\n          fontSize: \"16px\",\n          boxSizing: \"border-box\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red',\n        marginBottom: \"15px\"\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: isLoginView ? handleAuthenticate : handleRegister,\n      disabled: isLoading,\n      style: {\n        width: \"100%\",\n        padding: \"12px\",\n        background: isLoginView ? \"#1a1a1a\" : \"#1a1a1a\",\n        color: \"white\",\n        border: \"none\",\n        borderRadius: \"4px\",\n        fontSize: \"16px\",\n        cursor: \"pointer\",\n        marginBottom: \"15px\"\n      },\n      children: isLoading ? \"Processing...\" : \"Continue\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"20px\"\n      },\n      children: isLoginView ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => setIsLoginView(false),\n          style: {\n            color: \"#007bff\",\n            cursor: \"pointer\",\n            textDecoration: \"underline\"\n          },\n          children: \"Register here.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Already have an account? \", /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => setIsLoginView(true),\n          style: {\n            color: \"#007bff\",\n            cursor: \"pointer\",\n            textDecoration: \"underline\"\n          },\n          children: \"Login here.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 39\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n}\n_s(Passkey, \"u/W2yC3nCjYdjbPO4OhlmC2rTUY=\", false, function () {\n  return [useNavigate];\n});\n_c = Passkey;\nexport default Passkey;\nvar _c;\n$RefreshReg$(_c, \"Passkey\");","map":{"version":3,"names":["React","useState","useNavigate","axios","jsxDEV","_jsxDEV","Passkey","setIsAuthenticated","setUserEmail","_s","email","setEmail","error","setError","isLoginView","setIsLoginView","isLoading","setIsLoading","navigate","base64UrlToBase64","base64url","padding","repeat","length","replace","base64UrlToUint8Array","base64","binary","atob","Uint8Array","split","map","c","charCodeAt","handleRegister","console","log","data","publicKeyCredentialCreationOptions","post","publicKeyCredentialCreationOptionsParsed","challenge","rp","user","id","name","displayName","pubKeyCredParams","authenticatorSelection","attestation","credential","navigator","credentials","create","publicKey","window","alert","response","request","message","_error$response$data","handleAuthenticate","publicKeyCredentialRequestOptions","withCredentials","publicKeyCredentialRequestOptionsParsed","allowCredentials","type","transports","userVerification","assertion","get","assertionResponse","rawId","btoa","String","fromCharCode","authenticatorData","clientDataJSON","signature","userHandle","success","token","state","username","style","textAlign","marginTop","maxWidth","margin","borderRadius","boxShadow","children","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","display","placeholder","value","onChange","e","target","width","border","fontSize","boxSizing","color","onClick","disabled","background","cursor","textDecoration","_c","$RefreshReg$"],"sources":["C:/Users/lpave/ProjectPasskey/Project_Passkey/Frontend/src/component/passkey.js"],"sourcesContent":["import React, { useState} from 'react';\r\nimport { useNavigate } from 'react-router-dom'\r\nimport axios from 'axios';\r\n\r\nfunction Passkey( { setIsAuthenticated, setUserEmail } ) { //accepting setIsAuthenticated and setUserEmail as props\r\n  const [email, setEmail] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [isLoginView, setIsLoginView] = useState(true);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  // Helper functions remain the same\r\n  const base64UrlToBase64 = (base64url) => {\r\n    const padding = '='.repeat((4 - base64url.length % 4) % 4);\r\n    return base64url\r\n      .replace(/-/g, '+')\r\n      .replace(/_/g, '/')\r\n      + padding;\r\n  };\r\n\r\n  const base64UrlToUint8Array = (base64url) => {\r\n    const base64 = base64UrlToBase64(base64url);\r\n    const binary = atob(base64);\r\n    return new Uint8Array(binary.split('').map(c => c.charCodeAt(0)));\r\n  };\r\n\r\n  const handleRegister = async () => {\r\n    if (!email) {\r\n      setError('Please enter your email');\r\n      return;\r\n    }\r\n\r\n    setError('');\r\n    setIsLoading(true);\r\n    \r\n    try {\r\n      console.log('Attempting to register with:', email);\r\n      console.log('Backend URL:', 'https://localhost:5200/webauthn/register');\r\n      \r\n      const { data: publicKeyCredentialCreationOptions } = await axios.post(\r\n        'https://localhost:5200/webauthn/register', \r\n        { email },\r\n      );\r\n\r\n      const publicKeyCredentialCreationOptionsParsed = {\r\n        challenge: base64UrlToUint8Array(publicKeyCredentialCreationOptions.challenge),\r\n        rp: publicKeyCredentialCreationOptions.rp,\r\n        user: {\r\n          id: base64UrlToUint8Array(publicKeyCredentialCreationOptions.user.id),\r\n          name: publicKeyCredentialCreationOptions.user.name,\r\n          displayName: publicKeyCredentialCreationOptions.user.displayName\r\n        },\r\n        pubKeyCredParams: publicKeyCredentialCreationOptions.pubKeyCredParams,\r\n        authenticatorSelection: publicKeyCredentialCreationOptions.authenticatorSelection,\r\n        attestation: publicKeyCredentialCreationOptions.attestation,\r\n      };\r\n\r\n      const credential = await navigator.credentials.create({\r\n        publicKey: publicKeyCredentialCreationOptionsParsed,\r\n      });\r\n\r\n      await axios.post('https://localhost:5200/webauthn/register/complete', {\r\n        email,\r\n        credential,\r\n        \r\n      });\r\n\r\n      window.alert('Registration successful');\r\n      setEmail('');\r\n      setIsLoginView(true); // Switch to login view after successful registration\r\n\r\n    } catch (error) {\r\n      console.error('Registration failed - Full Error:', error);\r\n      console.error('Error response:', error.response);\r\n      console.error('Error request:', error.request);\r\n      console.error('Error message:', error.message);\r\n      \r\n      // More detailed error handling\r\n      if (error.response) {\r\n        // Server responded with error\r\n        setError('Server error: ' + error.response.data?.error || error.message);\r\n      } else if (error.request) {\r\n        // Request made but no response\r\n        setError('Network Error: Backend not responding. Make sure backend is running on https://localhost:5200');\r\n      } else {\r\n        setError('Registration failed: ' + error.message);\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAuthenticate = async () => {\r\n    if (!email) {\r\n      setError('Email is required');\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      const { data: publicKeyCredentialRequestOptions } = await axios.post(\r\n        'https://localhost:5200/webauthn/authenticate',\r\n        { email },\r\n        { withCredentials: true }\r\n      );\r\n\r\n      const publicKeyCredentialRequestOptionsParsed = {\r\n        challenge: base64UrlToUint8Array(publicKeyCredentialRequestOptions.challenge),\r\n        allowCredentials: [{\r\n          type: 'public-key',\r\n          id: base64UrlToUint8Array(publicKeyCredentialRequestOptions.allowCredentials[0].id),\r\n          transports: ['internal']\r\n        }],\r\n        userVerification: publicKeyCredentialRequestOptions.userVerification\r\n      };\r\n\r\n      const assertion = await navigator.credentials.get({ \r\n        publicKey: publicKeyCredentialRequestOptionsParsed \r\n      });\r\n\r\n      const assertionResponse = {\r\n        id: assertion.id,\r\n        rawId: btoa(String.fromCharCode(...new Uint8Array(assertion.rawId))),\r\n        type: assertion.type,\r\n        response: {\r\n          authenticatorData: btoa(String.fromCharCode(...new Uint8Array(assertion.response.authenticatorData))),\r\n          clientDataJSON: btoa(String.fromCharCode(...new Uint8Array(assertion.response.clientDataJSON))),\r\n          signature: btoa(String.fromCharCode(...new Uint8Array(assertion.response.signature))),\r\n          userHandle: assertion.response.userHandle ? \r\n            btoa(String.fromCharCode(...new Uint8Array(assertion.response.userHandle))) : \r\n            null\r\n        }\r\n      };\r\n\r\n      const response = await axios.post('https://localhost:5200/webauthn/authenticate/complete', {\r\n        email,\r\n        assertion: assertionResponse,\r\n      }, { withCredentials: true });\r\n\r\n      if (response.data.success) {\r\n        // Store the token in a secure cookie for session persistence\r\n        if (response.data.token) {\r\n          console.log('Setting token in secure cookie:', response.data.token);\r\n          // Removed document.cookie usage. Backend now handles secure cookies\r\n        } else {\r\n          console.log('No token received from backend');\r\n        }\r\n        setUserEmail(email);\r\n        setIsAuthenticated(true); //update authentication state\r\n        navigate('/tictactoe', { state: { username: email } }); // Redirect to Tic Tac Toe on success\r\n      } else {\r\n        setError('Authentication failed: ' + response.data.message || 'Unknown error');\r\n      }\r\n\r\n      window.alert('Authentication successful');\r\n      setEmail('');\r\n\r\n    } catch (error) {\r\n      console.error('Authentication failed:', error);\r\n      setError('Authentication failed: ' + error.message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ \r\n      textAlign: \"center\", \r\n      marginTop: \"50px\",\r\n      maxWidth: \"450px\",\r\n      margin: \"50px auto\",\r\n      padding: \"20px\",\r\n      borderRadius: \"8px\",\r\n      boxShadow: \"0 2px 10px rgba(0, 0, 0, 0.1)\"\r\n    }}>\r\n      <h1>{isLoginView ? \"Login\" : \"Register\"}</h1>\r\n      \r\n      <div style={{ marginBottom: \"20px\" }}>\r\n        <label style={{ display: \"block\", textAlign: \"left\", marginBottom: \"8px\" }}>\r\n          Email or phone number\r\n        </label>\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"example@email.com\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          style={{ \r\n            width: \"100%\", \r\n            padding: \"12px\", \r\n            borderRadius: \"4px\",\r\n            border: \"1px solid #ccc\",\r\n            fontSize: \"16px\",\r\n            boxSizing: \"border-box\"\r\n          }}\r\n        />\r\n      </div>\r\n      \r\n      {error && <p style={{color:'red', marginBottom: \"15px\"}}>{error}</p>}\r\n      \r\n      <button \r\n        onClick={isLoginView ? handleAuthenticate : handleRegister} \r\n        disabled={isLoading}\r\n        style={{ \r\n          width: \"100%\",\r\n          padding: \"12px\", \r\n          background: isLoginView ? \"#1a1a1a\" : \"#1a1a1a\", \r\n          color: \"white\",\r\n          border: \"none\",\r\n          borderRadius: \"4px\",\r\n          fontSize: \"16px\",\r\n          cursor: \"pointer\",\r\n          marginBottom: \"15px\"\r\n        }}\r\n      >\r\n        {isLoading ? \"Processing...\" : \"Continue\"}\r\n      </button>\r\n      \r\n      <div style={{ marginTop: \"20px\" }}>\r\n        {isLoginView ? (\r\n          <p>Don't have an account? <span \r\n            onClick={() => setIsLoginView(false)} \r\n            style={{color: \"#007bff\", cursor: \"pointer\", textDecoration: \"underline\"}}\r\n          >\r\n            Register here.\r\n          </span></p>\r\n        ) : (\r\n          <p>Already have an account? <span \r\n            onClick={() => setIsLoginView(true)} \r\n            style={{color: \"#007bff\", cursor: \"pointer\", textDecoration: \"underline\"}}\r\n          >\r\n            Login here.\r\n          </span></p>\r\n        )}\r\n      </div>\r\n      \r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Passkey;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}